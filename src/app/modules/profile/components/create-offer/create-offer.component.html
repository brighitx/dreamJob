<div class="createContainer">
    <div class="createBody">
        <a id="offerTitle">Crea tu oferta</a>

        <form [formGroup]="offerForm" (ngSubmit)="createOffer()" class="offerForm">
            <p id="titleForm">Datos de la oferta</p>
            <label>Titulo
                <input class="form-control" type="text" formControlName="title">
            </label>
            <ng-container *ngFor="let error of error_messages.title">
                <div class="error-message"
                    *ngIf="offerForm.get('title').hasError(error.type) && (offerForm.get('title').dirty || offerForm.get('title').touched)">
                    {{ error.message }}
                </div>
            </ng-container>

            <label>Descripción
                <textarea class="form-control" type="text" formControlName="description"></textarea>
            </label>
            <ng-container *ngFor="let error of error_messages.description">
                <div class="error-message"
                    *ngIf="offerForm.get('description').hasError(error.type) && (offerForm.get('description').dirty || offerForm.get('description').touched)">
                    {{ error.message }}
                </div>
            </ng-container>

            <label>Puestos
                <input class="form-control" type="number" formControlName="employments">
            </label>
            <ng-container *ngFor="let error of error_messages.employments">
                <div class="error-message"
                    *ngIf="offerForm.get('employments').hasError(error.type) && (offerForm.get('employments').dirty || offerForm.get('employments').touched)">
                    {{ error.message }}
                </div>
            </ng-container>

            <p id="titleForm">Ubicación de la oferta</p>

            <label>Provincia</label>
            <mat-form-field>
                <mat-select formControlName="province">
                    <mat-option *ngFor="let province of provinces" [value]="province.nm"
                        (click)="changeMunicipality(province.id)">{{province.nm}}</mat-option>
                </mat-select>
                <ng-container *ngFor="let error of error_messages.province">
                    <div class="error-message"
                        *ngIf="offerForm.get('province').hasError(error.type) && (offerForm.get('province').dirty || offerForm.get('province').touched)">
                        {{ error.message }}
                    </div>
                </ng-container>
            </mat-form-field>

            <label>Municipio</label>
            <mat-form-field>
                <mat-select formControlName="ubication">
                    <mat-option *ngFor="let municipality of municipalitiesFilter" [value]="municipality">
                        {{municipality}}</mat-option>
                </mat-select>
                <ng-container *ngFor="let error of error_messages.ubication">
                    <div class="error-message"
                        *ngIf="offerForm.get('ubication').hasError(error.type) && (offerForm.get('ubication').dirty || offerForm.get('ubication').touched)">
                        {{ error.message }}
                    </div>
                </ng-container>
            </mat-form-field>

            <button type="submit" class="buttonOffer" [disabled]="!offerForm.valid">CREAR</button>
        </form>
    </div>
</div>